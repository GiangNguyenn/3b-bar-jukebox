yarn run v1.22.22
$ C:\Users\manac\Documents\jm-bar-jukebox\node_modules\.bin\tsc --noEmit
app/api/game/influence/route.ts(41,13): error TS2578: Unused '@ts-expect-error' directive.
scripts/verifyGenreGraph.ts(46,37): error TS2339: Property 'toFixed' does not exist on type 'GenreScoreComponent'.
services/game/__tests__/dgsEngine.test.ts(54,3): error TS2741: Property 'currentSongAttraction' is missing in type '{ track: TrackDetails; source: "recommendations"; artistId: string; artistName: string; artistGenres: never[]; simScore: number; aAttraction: number; bAttraction: number; gravityScore: number; stabilizedScore: number; finalScore: number; popularityBand: PopularityBand; vicinityDistances: {}; }' but required in type 'CandidateTrackMetrics'.
services/game/__tests__/dgsEngine.test.ts(88,17): error TS2554: Expected 6 arguments, but got 5.
services/game/__tests__/dgsEngine.test.ts(95,13): error TS2365: Operator '>' cannot be applied to types '{ score: number; components: ScoringComponents; }' and 'number'.
services/game/dgsCache.ts(789,13): error TS2322: Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; album: { name: string; images: never[]; release_date: string; }; artists: { name: string; id: string; }[]; external_urls: { ...; } | undefined; genre: string | undefined; }' is not assignable to type 'TrackDetails'.
  Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; album: { name: string; images: never[]; release_date: string; }; artists: { name: string; id: string; }[]; external_urls: { ...; } | undefined; genre: string | undefined; }' is missing the following properties from type '{ id: string; uri: string; name: string; external_urls?: { spotify: string; } | undefined; artists: { name: string; id: string; }[]; album: { name: string; images: { url: string; }[]; release_date: string; }; duration_ms: number; popularity: number; preview_url: string | null; is_playable: boolean; explicit: boolean...': preview_url, explicit
services/game/dgsDb.ts(89,5): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(165,9): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(278,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(358,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(432,7): error TS2345: Argument of type '{} | undefined' is not assignable to parameter of type 'Error | undefined'.
  Type '{}' is missing the following properties from type 'Error': name, message
services/game/dgsDb.ts(450,9): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(523,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>) => TResult1 | ...' is not assignable to type '<TResult1 = { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }) => TResult...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[]'.
                  Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }'.
                    Types of property 'genres' are incompatible.
                      Type 'string[] | null' is not assignable to type 'string[]'.
                        Type 'null' is not assignable to type 'string[]'.
services/game/dgsDb.ts(589,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(651,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(718,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>) => TResult1 | ...' is not assignable to type '<TResult1 = { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }) => TResult...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[]'.
                  Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }'.
                    Types of property 'genres' are incompatible.
                      Type 'string[] | null' is not assignable to type 'string[]'.
                        Type 'null' is not assignable to type 'string[]'.
services/game/dgsDb.ts(775,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(835,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(960,13): error TS2339: Property 'count' does not exist on type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
services/game/dgsDb.ts(986,13): error TS2339: Property 'count' does not exist on type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
services/game/dgsDb.ts(1096,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(1150,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsEngine.ts(22,3): error TS2300: Duplicate identifier 'CandidateTrackMetrics'.
services/game/dgsEngine.ts(23,3): error TS2300: Duplicate identifier 'CandidateSource'.
services/game/dgsEngine.ts(24,3): error TS2300: Duplicate identifier 'CandidateTrackMetrics'.
services/game/dgsEngine.ts(25,3): error TS2300: Duplicate identifier 'CandidateSource'.
services/game/dgsEngine.ts(46,3): error TS2300: Duplicate identifier 'VICINITY_DISTANCE_THRESHOLD'.
services/game/dgsEngine.ts(47,3): error TS2300: Duplicate identifier 'VICINITY_DISTANCE_THRESHOLD'.
services/game/dgsEngine.ts(477,5): error TS2353: Object literal may only specify known properties, and 'currentPlayerId' does not exist in type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 4 more ...; cachingMetrics: DgsCachingMetrics; }'.
services/game/dgsEngine.ts(3682,37): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
services/game/dgsEngine.ts(3858,6): error TS2304: Cannot find name 'CategoryQuality'.
services/game/trackBackfill.ts(25,32): error TS2802: Type 'MapIterator<[string, { timestamp: number; success: boolean; }]>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.
services/spotifyApiServer.ts(87,65): error TS2345: Argument of type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; } | undefined' is not assignable to parameter of type 'DgsCachingMetrics | undefined'.
  Type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; }' is missing the following properties from type 'DgsCachingMetrics': topTracksRequested, topTracksCached, topTracksFromSpotify, topTracksApiCalls, and 14 more.
services/spotifyApiServer.ts(93,85): error TS2345: Argument of type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; } | undefined' is not assignable to parameter of type 'DgsCachingMetrics | undefined'.
  Type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; }' is missing the following properties from type 'DgsCachingMetrics': topTracksRequested, topTracksCached, topTracksFromSpotify, topTracksApiCalls, and 14 more.
services/spotifyApiServer.ts(247,48): error TS2352: Conversion of type '{ id: string; uri: string; name: string; duration_ms: number; is_playable: true; album: { id: string; name: string; }; artists: { id: string; name: string; }[]; }' to type 'TrackDetails' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; uri: string; name: string; duration_ms: number; is_playable: true; album: { id: string; name: string; }; artists: { id: string; name: string; }[]; }' is missing the following properties from type '{ id: string; uri: string; name: string; external_urls?: { spotify: string; } | undefined; artists: { name: string; id: string; }[]; album: { name: string; images: { url: string; }[]; release_date: string; }; duration_ms: number; popularity: number; preview_url: string | null; is_playable: boolean; explicit: boolean...': popularity, preview_url, explicit
services/trackSuggestion.ts(412,13): error TS2322: Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }[]' is not assignable to type 'TrackDetails[]'.
  Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }' is not assignable to type 'TrackDetails'.
    Property 'preview_url' is missing in type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }' but required in type '{ id: string; uri: string; name: string; external_urls?: { spotify: string; } | undefined; artists: { name: string; id: string; }[]; album: { name: string; images: { url: string; }[]; release_date: string; }; duration_ms: number; popularity: number; preview_url: string | null; is_playable: boolean; explicit: boolean...'.
utils/subscriptionQueries.ts(59,9): error TS2322: Type 'string' is not assignable to type '"free" | "premium"'.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
