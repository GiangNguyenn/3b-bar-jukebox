yarn run v1.22.22
$ C:\Users\manac\Documents\jm-bar-jukebox\node_modules\.bin\tsc --noEmit
app/api/game/artists/route.ts(27,13): error TS2322: Type '{ id: string | undefined; name: string; spotify_artist_id: string | undefined; genre: string | undefined; }[]' is not assignable to type 'PopularArtistResponse[]'.
  Type '{ id: string | undefined; name: string; spotify_artist_id: string | undefined; genre: string | undefined; }' is not assignable to type 'PopularArtistResponse'.
    Types of property 'spotify_artist_id' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
app/api/game/artists/route.ts(52,11): error TS2322: Type '{ id: string | undefined; name: string; spotify_artist_id: string | undefined; genre: string | undefined; }[]' is not assignable to type 'PopularArtistResponse[]'.
  Type '{ id: string | undefined; name: string; spotify_artist_id: string | undefined; genre: string | undefined; }' is not assignable to type 'PopularArtistResponse'.
    Types of property 'spotify_artist_id' are incompatible.
      Type 'string | undefined' is not assignable to type 'string'.
        Type 'undefined' is not assignable to type 'string'.
app/api/game/influence/route.ts(41,13): error TS2578: Unused '@ts-expect-error' directive.
hooks/game/useGameData.ts(214,13): error TS2304: Cannot find name 'getPlayerTargets'.
scripts/verifyGenreGraph.ts(46,37): error TS2339: Property 'toFixed' does not exist on type 'GenreScoreComponent'.
services/game/__tests__/dgsEngine.test.ts(54,3): error TS2741: Property 'currentSongAttraction' is missing in type '{ track: TrackDetails; source: "recommendations"; artistId: string; artistName: string; artistGenres: never[]; simScore: number; aAttraction: number; bAttraction: number; gravityScore: number; stabilizedScore: number; finalScore: number; popularityBand: PopularityBand; vicinityDistances: {}; }' but required in type 'CandidateTrackMetrics'.
services/game/__tests__/dgsEngine.test.ts(88,17): error TS2554: Expected 6 arguments, but got 5.
services/game/__tests__/dgsEngine.test.ts(95,13): error TS2365: Operator '>' cannot be applied to types '{ score: number; components: ScoringComponents; }' and 'number'.
services/game/dgsCache.ts(802,9): error TS2353: Object literal may only specify known properties, and 'external_urls' does not exist in type 'TrackDetails'.
services/game/dgsDb.ts(89,5): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(165,9): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(278,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(358,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(432,7): error TS2345: Argument of type '{} | undefined' is not assignable to parameter of type 'Error | undefined'.
  Type '{}' is missing the following properties from type 'Error': name, message
services/game/dgsDb.ts(450,9): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(523,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>) => TResult1 | ...' is not assignable to type '<TResult1 = { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }) => TResult...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[]'.
                  Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }'.
                    Types of property 'genres' are incompatible.
                      Type 'string[] | null' is not assignable to type 'string[]'.
                        Type 'null' is not assignable to type 'string[]'.
services/game/dgsDb.ts(589,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(651,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(718,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>) => TResult1 | ...' is not assignable to type '<TResult1 = { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: { data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }) => TResult...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]>' is not assignable to type '{ data: { name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }[]' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }[]'.
                  Type '{ name: string; spotify_artist_id: string; genres: string[] | null; popularity: number | null; }' is not assignable to type '{ name: string; spotify_artist_id: string; genres: string[]; popularity: number | null; }'.
                    Types of property 'genres' are incompatible.
                      Type 'string[] | null' is not assignable to type 'string[]'.
                        Type 'null' is not assignable to type 'string[]'.
services/game/dgsDb.ts(775,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(835,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsDb.ts(913,26): error TS2339: Property 'external_urls' does not exist on type 'TrackDetails'.
services/game/dgsDb.ts(960,13): error TS2339: Property 'count' does not exist on type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
services/game/dgsDb.ts(986,13): error TS2339: Property 'count' does not exist on type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
services/game/dgsDb.ts(1096,7): error TS2345: Argument of type 'PostgrestFilterBuilder<{ Tables: { artist_relationships: { Row: { cached_at: string | null; id: string; related_spotify_artist_id: string; source_spotify_artist_id: string; }; Insert: { cached_at?: string | null | undefined; id?: string | undefined; related_spotify_artist_id: string; source_spotify_artist_id: string...' is not assignable to parameter of type 'PromiseLike<{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }>'.
  Types of property 'then' are incompatible.
    Type '<TResult1 = PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>, TResult2 = never>(onfulfilled?: ((value: PostgrestSingleResponse<...>) => TResult1 | PromiseLike<.....' is not assignable to type '<TResult1 = { data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }, TResult2 = never>(onfulfilled?: ((value: ...'.
      Types of parameters 'onfulfilled' and 'onfulfilled' are incompatible.
        Types of parameters 'value' and 'value' are incompatible.
          Type 'PostgrestSingleResponse<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
            Type 'PostgrestResponseSuccess<{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]>' is not assignable to type '{ data: { album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[] | null; error: unknown; }'.
              Types of property 'data' are incompatible.
                Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }[]' is not assignable to type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }[]'.
                  Type '{ id: string; spotify_track_id: string; name: string; artist: string; album: string; duration_ms: number; popularity: number; spotify_url: string | null; genre: string | null; }' is missing the following properties from type '{ album: string; artist: string; created_at: string; duration_ms: number; genre: string | null; id: string; name: string; popularity: number; release_year: number | null; spotify_track_id: string; spotify_url: string | null; }': created_at, release_year
services/game/dgsDb.ts(1150,11): error TS2353: Object literal may only specify known properties, and 'id' does not exist in type '{ name: string; images: { url: string; }[]; release_date: string; }'.
services/game/dgsEngine.ts(24,3): error TS2305: Module '"./dgsTypes"' has no exported member 'CategoryQuality'.
services/game/dgsEngine.ts(46,3): error TS2724: '"./dgsTypes"' has no exported member named 'getExplorationPhase'. Did you mean 'ExplorationPhase'?
services/game/dgsEngine.ts(475,5): error TS2353: Object literal may only specify known properties, and 'currentPlayerId' does not exist in type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 4 more ...; cachingMetrics: DgsCachingMetrics; }'.
services/game/dgsEngine.ts(3639,3): error TS2339: Property 'candidateMetrics' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3642,3): error TS2339: Property 'artistProfiles' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3643,3): error TS2339: Property 'artistRelationships' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3644,3): error TS2339: Property 'currentTrack' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3645,3): error TS2339: Property 'currentTrackMetadata' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3647,3): error TS2339: Property 'hardConvergenceActive' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3648,3): error TS2339: Property 'ogDrift' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3649,3): error TS2339: Property 'vicinityDetails' does not exist on type '{ candidatePool: CandidateSeed[]; targetProfiles: Record<PlayerId, TargetProfile | null>; playerGravities: PlayerGravityMap; ... 5 more ...; cachingMetrics?: DgsCachingMetrics | undefined; }'.
services/game/dgsEngine.ts(3678,24): error TS2304: Cannot find name 'currentPlayerId'.
services/game/dgsEngine.ts(3682,57): error TS7006: Parameter 'metric' implicitly has an 'any' type.
services/game/dgsEngine.ts(3840,37): error TS2345: Argument of type 'string | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
services/game/genreSimilarity.ts(101,42): error TS2345: Argument of type '{ spotify_artist_id: string; name: string; genres: string[]; popularity: number; }[]' is not assignable to parameter of type '{ id: string; name: string; genres: string[]; popularity?: number | undefined; followers?: { total: number; } | undefined; }[]'.
  Property 'id' is missing in type '{ spotify_artist_id: string; name: string; genres: string[]; popularity: number; }' but required in type '{ id: string; name: string; genres: string[]; popularity?: number | undefined; followers?: { total: number; } | undefined; }'.
services/game/genreSimilarity.ts(214,36): error TS2345: Argument of type '{ spotify_artist_id: string; name: string; genres: string[]; popularity?: number | undefined; }[]' is not assignable to parameter of type '{ id: string; name: string; genres: string[]; popularity?: number | undefined; followers?: { total: number; } | undefined; }[]'.
  Property 'id' is missing in type '{ spotify_artist_id: string; name: string; genres: string[]; popularity?: number | undefined; }' but required in type '{ id: string; name: string; genres: string[]; popularity?: number | undefined; followers?: { total: number; } | undefined; }'.
services/game/genreSimilarity.ts(243,88): error TS2345: Argument of type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; } | undefined' is not assignable to parameter of type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; artistProfilesApiCalls: number; _cachedArtistIds?: Set<string> | undefined; } | undefined'.
  Property 'artistProfilesApiCalls' is missing in type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; }' but required in type '{ artistProfilesCached: number; artistProfilesFromSpotify: number; artistProfilesApiCalls: number; _cachedArtistIds?: Set<string> | undefined; }'.
services/game/trackBackfill.ts(25,32): error TS2802: Type 'MapIterator<[string, { timestamp: number; success: boolean; }]>' can only be iterated through when using the '--downlevelIteration' flag or with a '--target' of 'es2015' or higher.
services/musicService.ts(70,43): error TS2554: Expected 2-3 arguments, but got 1.
services/musicService.ts(79,17): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.
services/musicService.ts(106,21): error TS2322: Type 'number | undefined' is not assignable to type 'number'.
  Type 'undefined' is not assignable to type 'number'.
services/spotifyApiServer.ts(247,48): error TS2352: Conversion of type '{ id: string; uri: string; name: string; duration_ms: number; is_playable: true; album: { id: string; name: string; }; artists: { id: string; name: string; }[]; }' to type 'TrackDetails' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; uri: string; name: string; duration_ms: number; is_playable: true; album: { id: string; name: string; }; artists: { id: string; name: string; }[]; }' is missing the following properties from type '{ id: string; uri: string; name: string; artists: { name: string; id: string; }[]; album: { name: string; images: { url: string; }[]; release_date: string; }; duration_ms: number; popularity: number; preview_url: string | null; is_playable: boolean; explicit: boolean; }': popularity, preview_url, explicit
services/trackSuggestion.ts(412,13): error TS2322: Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }[]' is not assignable to type 'TrackDetails[]'.
  Type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }' is not assignable to type 'TrackDetails'.
    Property 'preview_url' is missing in type '{ id: string; uri: string; name: string; duration_ms: number; popularity: number; is_playable: true; explicit: false; album: { id: string; name: string; release_date: string; }; artists: { id: string; name: string; }[]; }' but required in type '{ id: string; uri: string; name: string; artists: { name: string; id: string; }[]; album: { name: string; images: { url: string; }[]; release_date: string; }; duration_ms: number; popularity: number; preview_url: string | null; is_playable: boolean; explicit: boolean; }'.
utils/subscriptionQueries.ts(59,9): error TS2322: Type 'string' is not assignable to type '"free" | "premium"'.
info Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.
